# üéì ‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î "Mali-Chan AI" (Code Walkthrough)

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠ **"‡∏ñ‡πà‡∏≤‡∏¢‡∏ó‡∏≠‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ"** ‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á ‡πÑ‡∏õ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ (Tips & Tricks) ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö

---

## üèóÔ∏è 1. ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö (Architecture Overview)

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö **Client-Server** (‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô)

*   **Frontend (‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô):** ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ **Angular** (TypeScript)
    *   ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà: ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ä‡∏ó, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ User Interface, ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏´‡∏≤ Server
*   **Backend (‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô):** ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ **Python (FastAPI)**
    *   ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà: ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• AI, ‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥ (RAG)
*   **Database:** ‡πÉ‡∏ä‡πâ **TinyDB** (‡πÑ‡∏ü‡∏•‡πå .json ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤)
    *   ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ‡πÄ‡∏ö‡∏≤, ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°, ‡∏¢‡πâ‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏á‡πà‡∏≤‡∏¢ (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Project Scale ‡∏ô‡∏µ‡πâ)

---

## üêç 2. Backend (Python/FastAPI) - ‡∏™‡∏°‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

### üìÇ ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: `backend/main.py`
‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Entry Point) ‡∏Ç‡∏≠‡∏á Server ‡∏Ñ‡∏£‡∏±‡∏ö
*   **CORS Middleware:** ‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ñ‡∏∑‡∏≠ "‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ Frontend (Port 4200) ‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö Backend (Port 8000) ‡πÑ‡∏î‡πâ" ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏à‡∏∞‡πÄ‡∏à‡∏≠ Error `Blocked by CORS policy`.
*   **Dependency Injection (`get_current_user`):** ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå User ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î ‡πÅ‡∏Ñ‡πà‡πÅ‡∏õ‡∏∞ `Depends(get_current_user)` ‡∏Å‡πá‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏•‡∏¢

### üß† ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: `backend/llm_engine.py` (‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å)
‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ **"‡∏ï‡∏±‡∏ß‡∏Å‡∏•‡∏≤‡∏á" (Wrapper)** ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö AI ‡∏Ñ‡∏£‡∏±‡∏ö
*   **Trick 1: Hybrid Strategy (‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏•‡∏π‡∏Å‡∏ú‡∏™‡∏°)**
    *   ‡πÄ‡∏£‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á **Local (GGUF)** ‡πÅ‡∏•‡∏∞ **Cloud (Gemini)** ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
    *   ‡∏ñ‡πâ‡∏≤ Gemini ‡∏•‡πà‡∏°‡∏´‡∏•‡∏∏‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏•‡∏∏‡∏î -> ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞ **Fallback** ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ Local ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (High Availability)
*   **Trick 2: System Prompt Injection**
    *   ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡πà‡∏á‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏´‡∏≤ AI ‡∏ï‡∏£‡∏á‡πÜ ‡πÅ‡∏ï‡πà‡πÄ‡∏£‡∏≤ "‡πÅ‡∏≠‡∏ö‡∏¢‡∏±‡∏î" ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏•‡∏±‡∏ö (System Prompt) ‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô *"‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏á‡∏°‡∏∞‡∏•‡∏¥ ‡∏´‡πâ‡∏≤‡∏°‡∏û‡∏π‡∏î‡∏Ñ‡∏£‡∏±‡∏ö"* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ AI ‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏≤‡πÅ‡∏£‡∏Ñ‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏°‡∏±‡∏î

### üìö ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß (RAG - Retrieval Augmented Generation)
*   **How it works:** ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏≤‡∏™‡∏≠‡∏ô (Train) ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πâ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÅ‡∏ï‡πà‡∏à‡∏∞:
    1.  ‡∏´‡∏±‡πà‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏¥‡πâ‡∏ô‡πÜ (Chunks)
    2.  ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç (Vector Embedding - ‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ Keyword Matching ‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)
    3.  ‡πÄ‡∏ß‡∏•‡∏≤‡∏ñ‡∏≤‡∏° ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÑ‡∏õ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡∏°‡∏≤ "‡πÅ‡∏õ‡∏∞" ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏≤‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡πÜ
    *   **User ‡∏û‡∏¥‡∏°‡∏û‡πå:** "‡∏´‡∏¥‡∏ß‡∏Ç‡πâ‡∏≤‡∏ß"
    *   **AI ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏£‡∏¥‡∏á:** "(‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥: ‡∏û‡∏µ‡πà‡∏ô‡∏ô‡∏ó‡πå‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏°‡∏±‡∏ô‡πÑ‡∏Å‡πà) + ‡∏´‡∏¥‡∏ß‡∏Ç‡πâ‡∏≤‡∏ß" -> **AI ‡∏ï‡∏≠‡∏ö:** "‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏°‡∏±‡∏ô‡πÑ‡∏Å‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞?"

---

## üé® 3. Frontend (Angular) - ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°

### üîó `ChatService` (src/app/services/chat.service.ts)
‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô "‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå" ‡∏Ñ‡∏≠‡∏¢‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á
*   **Trick:** ‡πÉ‡∏ä‡πâ `HttpClient` ‡∏¢‡∏¥‡∏á Request ‡πÑ‡∏õ‡∏´‡∏≤ Backend ‡∏î‡πâ‡∏ß‡∏¢ `Observable` (RxJS) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö Real-time ‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤
*   **Environment:** ‡πÄ‡∏£‡∏≤‡πÅ‡∏¢‡∏Å `environment.ts` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL Backend ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÄ‡∏ß‡∏•‡∏≤ Deploy ‡∏à‡∏£‡∏¥‡∏á

### üõ°Ô∏è `AuthInterceptor` (src/app/interceptors/auth.interceptor.ts)
‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏û‡∏£‡∏∞‡πÄ‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ **401 Unauthorized** ‡∏Ñ‡∏£‡∏±‡∏ö!
*   **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö *‡∏ó‡∏∏‡∏Å Request* ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏≠‡∏ö‡πÅ‡∏õ‡∏∞ `Authorization: Bearer <Token>` ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
*   **‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå:** ‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏™‡πà Token ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÜ ‡∏´‡∏ô‡πâ‡∏≤ (Login, Chat, Admin) ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö ‡∏Ñ‡∏∏‡πâ‡∏°‡∏°‡∏≤‡∏Å!

### üíÖ `ChatComponent` (src/app/components/chat/chat.component.ts)
*   **Auto Scroll:** ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `scrollToBottom()` ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏°‡∏≠ (‡πÉ‡∏ä‡πâ `setTimeout` ‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ HTML ‡∏ß‡∏≤‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô)
*   **High Contrast:** ‡πÄ‡∏£‡∏≤‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ "‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°" ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£ Force CSS ‡∏™‡∏µ‡∏î‡∏≥/‡∏Ç‡∏≤‡∏ß ‡∏ï‡∏±‡∏î‡∏Å‡∏±‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (`#000` on `#fff`) ‡πÑ‡∏°‡πà‡∏û‡∏∂‡πà‡∏á Default Browser Style

---

## üõ†Ô∏è 4. ‡∏£‡∏ß‡∏°‡∏Æ‡∏¥‡∏ï‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏•‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠ & ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ (Debugging Journey)

### üíÄ Error: "CORS Policy Blocked"
*   **‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏Ç‡∏≤‡∏ß ‡∏Å‡∏î Login ‡πÑ‡∏°‡πà‡πÑ‡∏õ Console ‡πÅ‡∏î‡∏á‡πÄ‡∏ñ‡∏∑‡∏≠‡∏Å
*   **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Browser ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πá‡∏ö A ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö B (‡∏Ñ‡∏ô‡∏•‡∏∞ Port)
*   **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà Backend (`main.py`) ‡∏™‡∏±‡πà‡∏á `allow_origins=["*"]` ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏∏ URL ‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

### üíÄ Error: "401 Unauthorized" (Login ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)
*   **‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** Login ‡∏ú‡πà‡∏≤‡∏ô ‡πÑ‡∏î‡πâ Token ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏û‡∏≠‡∏Å‡∏î Chat ‡πÄ‡∏î‡πâ‡∏á‡∏≠‡∏≠‡∏Å
*   **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏•‡∏∑‡∏°‡πÅ‡∏ô‡∏ö Token ‡πÑ‡∏õ‡∏Å‡∏±‡∏ö Header ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API Chat
*   **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡∏™‡∏£‡πâ‡∏≤‡∏á **Interceptor** (‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠ 3) ‡∏°‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞

### üíÄ Error: "AI ‡∏ï‡∏≠‡∏ö‡∏ß‡∏ô‡πÑ‡∏õ‡∏°‡∏≤ / ‡∏ï‡∏≠‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©"
*   **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏≥ System Prompt ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠ Stop Sequence (‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏π‡∏î) ‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö
*   **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
    1.  ‡∏¢‡∏±‡∏î System Prompt ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÜ ‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏¢ (Stateless)
    2.  ‡πÄ‡∏û‡∏¥‡πà‡∏° Stop Words: `["User:", "Mali:", "System:"]` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô
    3.  ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô **Regex Cleaner** ‡πÉ‡∏ô `llm_engine.py` ‡∏Ñ‡∏≠‡∏¢‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏•‡∏Å‡πÜ (‡πÄ‡∏ä‡πà‡∏ô `<think>...</think>`) ‡∏ó‡∏¥‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

### üíÄ Error: "History Tab ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÑ‡∏´‡∏ô?"
*   **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** CSS ‡∏ã‡πâ‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏Å‡∏±‡∏ô ‡∏´‡∏£‡∏∑‡∏≠ Logic `*ngIf` ‡∏ú‡∏¥‡∏î
*   **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
    *   ‡πÅ‡∏¢‡∏Å **Mode** ‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô (`mode='history'`)
    *   ‡πÉ‡∏ä‡πâ **Chrome DevTools (F12)** ‡∏à‡∏¥‡πâ‡∏°‡∏î‡∏π Element ‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏ï‡πà‡∏Ç‡∏ô‡∏≤‡∏î 0px ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏±‡∏ô‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ (Debugging UI 101)

---

## üéì ‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏Å‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?

1.  **HTTP Status Codes:** ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏ß‡πà‡∏≤ 200 (OK), 401 (No Token), 403 (No Permission), 500 (Server ‡∏û‡∏±‡∏á) ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å‡∏à‡∏∞‡πÑ‡∏ß‡∏°‡∏≤‡∏Å
2.  **Async/Await:** ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Å‡∏≤‡∏£ "‡∏£‡∏≠" ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô Python ‡πÅ‡∏•‡∏∞ JS ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏á‡∏≤‡∏ô AI ‡∏°‡∏±‡∏ô‡∏ä‡πâ‡∏≤ ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ñ‡πâ‡∏≤‡∏á (Non-blocking)
3.  **Logs Reading:** ‡∏ù‡∏∂‡∏Å‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏î‡∏≥‡πÜ ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏Å ‡∏°‡∏±‡∏ô‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏£‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö (‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÑ‡∏´‡∏ô Error ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÑ‡∏´‡∏ô‡πÄ‡∏õ‡πá‡∏ô None)

---
**‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ô‡∏∏‡∏Å‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ä‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏°‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ "‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô" (Hybrid) ‡πÅ‡∏•‡∏∞ "‡∏î‡∏π‡πÅ‡∏•‡∏á‡πà‡∏≤‡∏¢" (Simple DB) ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡πÅ‡∏Å‡πà‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏°‡∏≤‡∏Å‡πÜ ‡∏Ñ‡∏£‡∏±‡∏ö üöÄ**
